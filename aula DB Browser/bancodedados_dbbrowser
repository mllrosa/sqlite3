
-- ğŸ“ Cria tabelas    --------------------------------------------
-- id, polo, curso, preco, data_matricula, situacao
CREATE TABLE matriculas (
    id INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL,
    polo TEXT NOT NULL,
    preco INTEGER NOT NULL,
    data_matricula DATE NOT NULL,
    situacao TEXT NOT NULL
);

-- id, nome_curso, carga_horaria, sala, educador, nivel
CREATE TABLE cursos (
    id INTEGER PRIMARY KEY AUTOINCREMENT UNIQUE NOT NULL,
    nome_curso TEXT NOT NULL,
    carga_horaria INTEGER NOT NULL,
    sala TEXT NOT NULL,
    educador TEXT NOT NULL,
    nivel TEXT NOT NULL
);


-- ğŸ“ InserÃ§Ã£o de Dados    ------------------------------------------
-- MATRICULAS - id, polo, curso, preco, data_matricula, situacao
INSERT INTO matriculas (polo, preco, data_matricula, situacao) VALUES
('Rosa', 2500, '15/01/2024', 'ativa'),
('Girassol', 1800, '10/02/2024', 'concluÃ­da'),
('Tulipa', 2200, '20/01/2024', 'ativa'),
('Rosa', 1500, '05/03/2024', 'ativa'),
('Girassol', 2500, '30/01/2024', 'cancelada'),
('Tulipa', 1800, '25/02/2024', 'concluÃ­da'),
('Rosa', 2200, '12/02/2024', 'ativa'),
('Girassol', 1500, '15/03/2024', 'ativa'),
('Tulipa', 2500, '18/01/2024', 'concluÃ­da'),
('Rosa', 1800, '22/02/2024', 'ativa'),
('Girassol', 2200, '01/03/2024', 'ativa'),
('Tulipa', 1500, '25/01/2024', 'concluÃ­da'),
('Rosa', 2500, '10/02/2024', 'ativa'),
('Girassol', 1800, '07/03/2024', 'ativa'),
('Tulipa', 2200, '05/01/2024', 'concluÃ­da'),
('Rosa', 1500, '14/02/2024', 'ativa'),
('Girassol', 2500, '09/03/2024', 'concluÃ­da'),
('Tulipa', 1800, '03/01/2024', 'ativa'),
('Rosa', 2200, '28/02/2024', 'ativa'),
('Girassol', 1500, '17/01/2024', 'concluÃ­da'),
('Tulipa', 2500, '21/02/2024', 'ativa'),
('Rosa', 1800, '11/03/2024', 'ativa'),
('Girassol', 2200, '19/01/2024', 'concluÃ­da'),
('Tulipa', 1500, '27/02/2024', 'ativa'),
('Rosa', 2500, '15/03/2024', 'ativa'),
('Girassol', 1800, '05/01/2024', 'concluÃ­da'),
('Tulipa', 2200, '23/02/2024', 'ativa'),
('Rosa', 1500, '02/03/2024', 'ativa'),
('Girassol', 2500, '26/01/2024', 'concluÃ­da'),
('Tulipa', 1800, '14/02/2024', 'ativa');


-- CURSOS - id, nome_curso, carga_horaria, sala, educador, nivel
INSERT INTO cursos (nome_curso, carga_horaria, sala, educador, nivel) VALUES
('Desenvolvimento Web', 80, 'Sala 101', 'Ana Lima', 'IntermediÃ¡rio'),
('CiÃªncia de Dados', 45, 'Sala 102', 'Carlos Souza', 'Iniciante'),
('SeguranÃ§a da InformaÃ§Ã£o', 60, 'Sala 103', 'Fernanda Alves', 'AvanÃ§ado'),
('InteligÃªncia Artificial', 20, 'Sala 104', 'Juliano Ribeiro', 'IntermediÃ¡rio'),
('Desenvolvimento Mobile', 80, 'Sala 105', 'Marina Duarte', 'IntermediÃ¡rio'),
('Big Data', 45, 'Sala 106', 'JoÃ£o Pedro', 'AvanÃ§ado'),
('Redes de Computadores', 60, 'Sala 107', 'PatrÃ­cia Gomes', 'Iniciante'),
('Machine Learning', 20, 'Sala 108', 'Rodrigo Lima', 'AvanÃ§ado'),
('DevOps', 80, 'Sala 109', 'Lucas Barros', 'IntermediÃ¡rio'),
('Banco de Dados', 45, 'Sala 110', 'Carla Mendes', 'Iniciante'),
('Cloud Computing', 60, 'Sala 111', 'Rafael Torres', 'AvanÃ§ado'),
('AutomaÃ§Ã£o de Testes', 20, 'Sala 112', 'Bianca Freitas', 'IntermediÃ¡rio'),
('Front-end AvanÃ§ado', 80, 'Sala 113', 'AndrÃ© Martins', 'AvanÃ§ado'),
('Back-end com Node.js', 45, 'Sala 114', 'SÃ©rgio Antunes', 'IntermediÃ¡rio'),
('ProgramaÃ§Ã£o Orientada a Objetos', 60, 'Sala 115', 'Juliana Mota', 'Iniciante'),
('Scrum e Ãgil', 20, 'Sala 116', 'Pedro Henrique', 'Iniciante'),
('UX/UI Design', 80, 'Sala 117', 'Isabela Ferreira', 'IntermediÃ¡rio'),
('Python para Data Science', 45, 'Sala 118', 'Natalia Campos', 'AvanÃ§ado'),
('Kotlin para Android', 60, 'Sala 119', 'Marcelo AraÃºjo', 'IntermediÃ¡rio'),
('SeguranÃ§a em Redes', 20, 'Sala 120', 'Renata Lima', 'AvanÃ§ado'),
('Angular e TypeScript', 80, 'Sala 121', 'Eduardo Costa', 'IntermediÃ¡rio'),
('Testes Automatizados', 45, 'Sala 122', 'Larissa Nunes', 'Iniciante'),
('AdministraÃ§Ã£o de Sistemas Linux', 60, 'Sala 123', 'Daniel Lopes', 'AvanÃ§ado'),
('InteligÃªncia Artificial AvanÃ§ada', 20, 'Sala 124', 'Aline Moraes', 'AvanÃ§ado'),
('React.js', 80, 'Sala 125', 'Gabriel Teixeira', 'IntermediÃ¡rio'),
('SQL AvanÃ§ado', 45, 'Sala 126', 'Amanda Rocha', 'Iniciante'),
('Arquitetura de Computadores', 60, 'Sala 127', 'Bruno Nascimento', 'AvanÃ§ado'),
('Power BI para NegÃ³cios', 20, 'Sala 128', 'Tatiane Farias', 'IntermediÃ¡rio'),
('Flutter para Mobile', 80, 'Sala 129', 'Vitor Ribeiro', 'IntermediÃ¡rio'),
('Python IntermediÃ¡rio', 45, 'Sala 130', 'Aline Moraes', 'IntermediÃ¡rio');

-- AA -----------------------------------------------------------------------------------
-- Para adicionar somente uma coluna na tabela
ALTER TABLE cursos ADD COLUMN preco REAL;

-- Depois pra prencher sÃ³ uma coluna  com valores aleatorios de 800 Ã  1600
UPDATE cursos SET preco = ABS(RANDOM() % 801) + 800; -- ABS = valor absoluto

-- Para mudar sÃ³ uma linha de uma culona Ã© necessario especificar com WHERE
UPDATE cursos SET preco = ABS(RANDOM() % 801) + 800 WHERE preco IS NULL OR preco  0 ';
-----------------------------------------------------------------------------------------

-- ğŸ” Etapa 3 â€“ Consultas com SELECT
-- Listar todos os cursos com carga horÃ¡ria maior que 40 horas, ordenados pela carga horÃ¡ria
SELECT nome_curso, carga_horaria FROM cursos WHERE carga_horaria > 40 ORDER BY carga_horaria;

-- -- Mostrar os alunos e os cursos em que estÃ£o matriculados (JOIN).
-- -- Mostrar a quantidade de alunos matriculados em cada curso.


-- âœï¸ Etapa 4 â€“ UPDATE
-- Aumentar em 10% o preÃ§o dos cursos com mais de 80 horas.
UPDATE cursos SET preco = preco * 1.1 WHERE carga_horaria > 80;

-- Atualizar a cidade do professor "JoÃ£o da Silva" para "Rio de Janeiro".


-- ğŸ—‘ï¸ Etapa 5 â€“ DELETE
-- Apagar o aluno de id = 15 (e suas matrÃ­culas).
-- Remover todos os cursos com preÃ§o menor que R$200,00
DELETE FROM cursos WHERE preco < 200; -- Nao precisa  do * na vdd da erro se colocar 


-- â• Etapa 6 â€“ INSERT Extra
-- Inserir um novo curso chamado "InteligÃªncia Artificial", 60 horas, R$1200.
INSERT INTO cursos (nome_curso, carga_horaria, sala, educador, nivel) VALUES
('InteligÃªncia Artificial', 60, 'Sala 101', 'Ana Lima', 'IntermediÃ¡rio', 1000);

-- ğŸ“Š Etapa 7 â€“ RelatÃ³rio Final
-- Liste os 5 cursos mais caros e mostre quantos alunos estÃ£o matriculados em cada um:
